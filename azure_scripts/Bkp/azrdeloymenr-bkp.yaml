# # Sever 
# # apiVersion: apps/v1
# # kind: Deployment
# # metadata:
# #   labels:
# #     app: server-dp
# #     env: dev
# #     tier: back-end
# #   name: server
# # spec:
# #   replicas: 1
# #   selector:
# #     matchLabels:
# #       app: server
# #       env: dev
# #       tier: back-end
# #   template:
# #     metadata:
# #       labels:
# #         app: server
# #         env: dev
# #         tier: back-end
# #     spec:
# #       containers:
# #       - image: inviteacr.azurecr.io/inviteapp/ivt-server:4
# #         name: server
# #         imagePullPolicy: IfNotPresent
# #         ports:
# #         - containerPort: 3003
# #         env:
# #         - name: MONGO_ATLAS_URI
# #           valueFrom:
# #             configMapKeyRef:
# #               name: server-conf
# #               key: mongo_url
# #         - name: PORT
# #           valueFrom:
# #             configMapKeyRef:
# #               name: server-conf
# #               key: port
# #         - name: STRIPE_KEY
# #           valueFrom:
# #             configMapKeyRef:
# #               name: server-conf
# #               key: stripe_key
# #         - name: NODE_MAILER_USER
# #           valueFrom:
# #             configMapKeyRef:
# #               name: server-conf
# #               key: node_mailer_user
# #         - name: NODE_MAILER_PASS
# #           valueFrom:
# #             configMapKeyRef:
# #               name: server-conf
# #               key: node_mailer_pass 
# #         - name: JWT_SECRET
# #           valueFrom:
# #             configMapKeyRef:
# #               name: server-conf
# #               key: jwt_secret
# #         resources:
# #           requests:
# #             cpu: 1m
# #             memory: 50Mi
# #           limits:
# #             cpu: 50m
# #             memory: 50Mi 
#         # startupProbe:
#         #   httpGet:
#         #     path: /health
#         #     port: 3003
#         #   failureThreshold: 3
#         #   initialDelaySeconds: 15
#         #   periodSeconds: 5
#         # readinessProbe:
#         #   httpGet:
#         #     path: /
#         #     port: http
#         #   failureThreshold: 3
#         #   initialDelaySeconds: 3
#         #   periodSeconds: 5
#         # livenessProbe:
#         #   httpGet:
#         #     path: /health
#         #     port: 3003
#         #   failureThreshold: 5
#         #   initialDelaySeconds: 3
#         #   periodSeconds: 3                       
# ---
# apiVersion: v1
# kind: Service
# metadata:
#   labels:
#     app: server
#     env: dev
#     tier: back-end
#   name: server-svc
# spec:
#   ports:
#   - name: http
#     port: 3003
#     protocol: TCP
#     targetPort: 3003
#   selector:
#     app: server
#     env: dev
#     tier: back-end
#   type: LoadBalancer
# ---
# # apiVersion: v1
# # data:
# #   mongo_url: 'mongodb://mongo-replica-0.mongo:27017,mongo-replica-1.mongo:27017,mongo-replica-2.mongo:27017/?replicaSet=rs0'
# #   port: '3003'
# #   stripe_key: 'test'
# #   node_mailer_user: 'theinviteappcrew@gmail.com' 
# #   node_mailer_pass: 'P@$$w0rd@test' 
# #   jwt_secret: 'secret'
# # kind: ConfigMap
# # metadata:
# #   name: server-conf
# ---

# # # Client 
# # apiVersion: apps/v1
# # kind: Deployment
# # metadata:
# #   labels:
# #     app: client-dp
# #     env: dev
# #     tier: front-end
# #   name: client
# # spec:
# #   replicas: 1
# #   selector:
# #     matchLabels:
# #       app: client
# #       env: dev
# #       tier: front-end
# #   template:
# #     metadata:
# #       labels:
# #         app: client
# #         env: dev
# #         tier: front-end
# #     spec:
# #       containers:
# #       - image: inviteacr.azurecr.io/inviteapp/ivt-client:4
# #         name: client
# #         imagePullPolicy: IfNotPresent
# #         env:
# #         - name: NEXT_PUBLIC_BASE_URL
# #           valueFrom:
# #             configMapKeyRef:
# #               name: client-conf
# #               key: front_end_app_url
# #         - name: NEXT_PUBLIC_STRIPE_KEY
# #           valueFrom:
# #             configMapKeyRef:
# #               name: client-conf
# #               key: front_end_stripe_key
# #         - name: NEXT_PUBLIC_API_URL
# #           valueFrom:
# #             configMapKeyRef:
# #               name: client-conf
# #               key: server_api_url        
# #         ports:
# #         - containerPort: 3000
# #         resources:
# #           requests:
# #             cpu: 1m
# #             memory: 50Mi
# #           limits:
# #             cpu: 75m
# #             memory: 128Mi 
# #         # readinessProbe:
# #         #   httpGet:
# #         #     path: /
# #         #     port: http
# #         #   failureThreshold: 3
# #         #   initialDelaySeconds: 3
# #         #   periodSeconds: 5
# #         # livenessProbe:
# #         #   httpGet:
# #         #     path: /health
# #         #     port: 3000
# #         #   failureThreshold: 5
# #         #   initialDelaySeconds: 3
# #         #   periodSeconds: 3               
# # ---
# # apiVersion: v1
# # kind: Service
# # metadata:
# #   labels:
# #     app: client
# #     env: dev
# #     tier: front-end
# #   name: client-svc
# # spec:
# #   ports:
# #   - name: http
# #     port: 3000
# #     protocol: TCP
# #     targetPort: 3000
# #   selector:
# #     app: client
# #     env: dev
# #     tier: front-end
# #   type: LoadBalancer
# # ---
# # apiVersion: v1
# # data:
# #   front_end_app_url: 'http://client-svc:3000'
# #   front_end_stripe_key: 'somekey'
# #   server_api_url: 'http://4.195.114.184:3003'
# # kind: ConfigMap
# # metadata:
# #   name: client-conf

# ---
# # Developer 
# apiVersion: apps/v1
# kind: Deployment
# metadata:
#   labels:
#     app: developer-dp
#     env: dev
#     tier: front-end
#   name: developer
# spec:
#   replicas: 1
#   selector:
#     matchLabels:
#       app: developer
#       env: dev
#       tier: front-end
#   template:
#     metadata:
#       labels:
#         app: developer
#         env: dev
#         tier: front-end
#     spec:
#       containers:
#       - image: inviteacr.azurecr.io/inviteapp/ivt-dev:1
#         name: developer
#         imagePullPolicy: IfNotPresent
#         ports:
#         - containerPort: 3001
#         resources:
#           requests:
#             cpu: 1m
#             memory: 50Mi
#           limits:
#             cpu: 50m
#             memory: 50Mi 
#         # readinessProbe:
#         #   httpGet:
#         #     path: /
#         #     port: http
#         #   failureThreshold: 3
#         #   initialDelaySeconds: 3
#         #   periodSeconds: 5
#         # livenessProbe:
#         #   httpGet:
#         #     path: /health
#         #     port: 3000
#         #   failureThreshold: 5
#         #   initialDelaySeconds: 3
#         #   periodSeconds: 3       

# ---
# apiVersion: v1
# kind: Service
# metadata:
#   labels:
#     app: developer
#     env: dev
#     tier: front-end
#   name: developer-svc
# spec:
#   ports:
#   - name: http
#     port: 3001
#     protocol: TCP
#     targetPort: 3001
#   selector:
#     app: developer
#     env: dev
#     tier: front-end
#   type: LoadBalancer

